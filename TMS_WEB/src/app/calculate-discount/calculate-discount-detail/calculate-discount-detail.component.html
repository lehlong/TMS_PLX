<div class="container-list">
    <div class="site-page-header-ghost-wrapper">
        <nz-page-header nzBackIcon [nzTitle]="titleTab" class="site-page-header">
            <nz-page-header-extra>
                <nz-space [nzWrap]="true" class="gap-[5px]">
                    <nz-space>
                        <app-input-clear placeholder="Tìm kiếm"></app-input-clear>
                        <button class="flex !items-center !border-l-0 gray-btn" nzType="default" nz-button
                            nzType="default">
                            <span nz-icon nzType="search"></span>
                        </button>
                    </nz-space>
                    <button class="!flex !items-center" nzType="default" nz-button (click)="openInput()">
                        <span nz-icon nzType="right-square"></span> Dữ liệu đầu vào
                    </button>
                    <button class="!flex !items-center" nzType="primary" nz-button>
                        <span nz-icon nzType="plus-circle"></span> Thêm mới
                    </button>
                </nz-space>
            </nz-page-header-extra>
        </nz-page-header>
    </div>
    <div>
        <nz-tabset>
            <nz-tab nzTitle="Dữ liệu gốc" (click)="onClickTab('Dữ liệu gốc')">
                <div class="overflow-tab">
                    <div nz-row [nzGutter]="12">
                        <div nz-col class="gutter-row" [nzSpan]="6">
                            <div class="inner-box">
                                <nz-divider nzOrientation="left" nzText="GIÁ TẬP ĐOÀN CÔNG BỐ"></nz-divider>
                                <nz-table nzBordered nzSize="small" [nzFrontPagination]="'false'"
                                    [nzShowPagination]="'false'" [nzData]="output.dlg.dlg1">
                                    <thead>
                                        <tr>
                                            <th rowspan="2">MẶT HÀNG</th>
                                            <th rowspan="2">GBL V1</th>
                                            <th rowspan="2">GBL V2</th>
                                            <th rowspan="2">CL 2V <br> TĐ</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of output.dlg.dlg1;">
                                            <td nzAlign="left">{{data.goodName}}</td>
                                            <td nzAlign="right">{{ data.col1 | number}}</td>
                                            <td nzAlign="right">{{ data.col2 | number }}</td>
                                            <td nzAlign="right">{{ data.col3 | number}}</td>
                                        </tr>
                                    </tbody>
                                </nz-table>

                            </div>
                        </div>
                        <div nz-col class="gutter-row" [nzSpan]="9">
                            <div class="inner-box">
                                <nz-divider nzOrientation="left" nzText="THÔNG BÁO GIÁ BÁN LẺ"></nz-divider>
                                <nz-table nzBordered nzSize="small" [nzFrontPagination]="'false'"
                                    [nzShowPagination]="'false'" [nzData]="output.dlg.dlg2">
                                    <thead>
                                        <tr>
                                            <th rowspan="2">MẶT HÀNG</th>
                                            <th rowspan="2">GIÁ BÁN LẺ V1+ <br> Vùng thị trường <br> trung
                                                tâm (TP Vinh)</th>
                                            <th rowspan="2">GIÁ BÁN LẺ V2 <br> Vùng thị trường còn lại <br>
                                                (bằng giá V2 TĐ công bố)</th>
                                            <th rowspan="2">CL 2V <br>CTY</th>
                                        </tr>

                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of output.dlg.dlg2;">
                                            <td nzAlign="left">{{data.goodName}}</td>
                                            <td nzAlign="right">{{ data.col1 | number}}</td>
                                            <td nzAlign="right">{{ data.col2 | number }}</td>
                                            <td nzAlign="right">{{ data.col3 | number}}</td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" style="padding: 12px 24px;">
                                                <span>Ghi chú:</span> <br>
                                                <span>- Các CHXD vùng thị trường trung tâm bao gồm: <br>
                                                    CH01, CH02, CH03, CH04, CH05, CH06, CH07, CH08, CH09, <br>
                                                    CH10, CH11, CH12, CH15, CH16, CH17, CH20, CH21 và CH22.</span><br>
                                                <span>- Các CHXD còn lại: bán theo giá vùng 2 <br>
                                                    Tập đoàn công bố cùng thời điểm.</span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </nz-table>
                            </div>
                        </div>
                        <div nz-col class="gutter-row" [nzSpan]="9">
                            <div class="inner-box">
                                <nz-divider nzOrientation="left" nzText="THÔNG BÁO GIÁ BÁN LẺ"></nz-divider>
                                <nz-table nzBordered nzSize="small" [nzFrontPagination]="'false'"
                                    [nzShowPagination]="'false'" [nzData]="output.dlg.dlg3">
                                    <thead>
                                        <tr>
                                            <th rowspan="2">MẶT HÀNG</th>
                                            <th rowspan="2">GIÁ KỲ TRƯỚC</th>
                                            <th rowspan="2">GIÁ KỲ NÀY</th>
                                            <th rowspan="2">TĂNG(+), GIẢM(-)</th>
                                        </tr>

                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of output.dlg.dlg3;">
                                            <td nzAlign="left" *ngIf="data.isBold" colspan="4"
                                                style="font-weight: bold;">
                                                {{data.goodName}}</td>
                                            <td nzAlign="left" *ngIf="!data.isBold">{{data.goodName}}</td>
                                            <td nzAlign="right" *ngIf="!data.isBold">{{ data.col1 | number}}</td>
                                            <td nzAlign="right" *ngIf="!data.isBold">{{ data.col2 | number }}</td>
                                            <td nzAlign="right" *ngIf="!data.isBold">{{ data.col3 | number}}</td>
                                        </tr>
                                    </tbody>
                                </nz-table>
                            </div>
                        </div>
                    </div>

                    <div nz-row [nzGutter]="12">
                        <div nz-col class="gutter-row" [nzSpan]="17">
                            <div class="inner-box">
                                <nz-divider nzText="BIỂU TỔNG HỢP CÁC CHỈ TIÊU DẦU SÁNG (PT bán lẻ - V2)"
                                    nzOrientation="left"></nz-divider>
                                <nz-table [nzShowPagination]="false" nzSize="small" [nzFrontPagination]="false"
                                    nzBordered [nzData]="output.dlg.dlg4">
                                    <thead>
                                        <tr>
                                            <th rowSpan="2">STT</th>
                                            <th rowSpan="2">LOẠI HÀNG</th>
                                            <th rowSpan="2">
                                                H.SỐ VCF <br />
                                                BQ MÙA <br />
                                                MIỀN
                                            </th>
                                            <th rowSpan="2">
                                                THUẾ <br />
                                                BVMT
                                            </th>
                                            <th colSpan="3">
                                                GIÁ BÁN NỘI BỘ TẬP ĐOÀN
                                            </th>
                                            <th rowSpan="2">
                                                GIÁ BÁN LẺ <br />
                                                CƠ SỞ (VÙNG 1) <br />
                                                CÓ VAT &BVMT
                                            </th>
                                            <th colSpan="2">GIÁ BÁN LẺ VÙNG 2</th>
                                            <th colSpan="2">LÃI GỘP (Đ/LTT)</th>
                                        </tr>
                                        <tr>
                                            <th>L15 <br> CHƯA VAT <br />& BVMT</th>
                                            <th>LTT<br> CHƯA VAT <br />& BVMT</th>
                                            <th>LTT <br> CÓ VAT <br /> & BVMT</th>
                                            <th>GIÁ <br> CÔNG BỐ</th>
                                            <th>CHƯA VAT <br> & BVMT</th>
                                            <th>CÓ VAT <br> & BVMT</th>
                                            <th>CHƯA VAT <br> & BVMT</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of output.dlg.dlg4;">
                                            <td nzAlign="center">{{data.stt}}</td>
                                            <td nzAlign="left">{{ data.goodName}}</td>
                                            <td nzAlign="right">{{ data.col1 }}</td>
                                            <td nzAlign="right">{{ data.col2 | number}}</td>
                                            <td nzAlign="right">{{ data.col3 | number}}</td>
                                            <td nzAlign="right">{{ data.col4 | number}}</td>
                                            <td nzAlign="right">{{ data.col5 | number}}</td>
                                            <td nzAlign="right">{{ data.col6 | number}}</td>
                                            <td nzAlign="right">{{ data.col7 | number}}</td>
                                            <td nzAlign="right">{{ data.col8 | number}}</td>
                                            <td nzAlign="right">{{ data.col9 | number}}</td>
                                            <td nzAlign="right">{{ data.col10 | number}}</td>
                                        </tr>
                                    </tbody>
                                </nz-table>
                            </div>
                        </div>
                        <div nz-col class="gutter-row" [nzSpan]="7">
                            <div class="inner-box">
                                <nz-divider nzText="THAY ĐỔI GIÁ GIAO PT BÁN LẺ" nzOrientation="left"></nz-divider>

                                <nz-table nzBordered nzSize="small" [nzFrontPagination]="'false'"
                                    [nzShowPagination]="'false'" [nzData]="output.dlg.dlg5">
                                    <thead>
                                        <tr>
                                            <th rowspan="2">MẶT HÀNG</th>
                                            <th rowspan="2">GIÁ CŨ</th>
                                            <th rowspan="2">GIÁ MỚI</th>
                                            <th rowspan="2">TĂNG(+), GIẢM(-)</th>
                                        </tr>

                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of output.dlg.dlg5;">
                                            <td nzAlign="left">{{data.goodName}}</td>
                                            <td nzAlign="right">{{ data.col1 | number}}</td>
                                            <td nzAlign="right">{{ data.col2 | number }}</td>
                                            <td nzAlign="right">{{ data.col3 | number}}</td>
                                        </tr>
                                    </tbody>
                                </nz-table>
                            </div>
                        </div>

                        <nz-divider nzText="BIỂU TỔNG HỢP CÁC CHỈ TIÊU DẦU SÁNG (ngoài bán lẻ)"
                            nzOrientation="left"></nz-divider>
                        <nz-table [nzShowPagination]="false" nzSize="small" [nzFrontPagination]="false" nzBordered
                            [nzData]="output.dlg.dlg6">
                            <thead>
                                <tr>
                                    <th rowSpan="2" class="align-center">STT</th>
                                    <th rowSpan="2" class="align-center">LOẠI HÀNG</th>
                                    <th rowSpan="2" class="align-center">
                                        H.SỐ VCF <br />
                                        BQ MÙA <br />
                                        MIỀN
                                    </th>
                                    <th rowSpan="2" class="align-center">
                                        THUẾ <br />
                                        BVMT
                                    </th>
                                    <th colSpan="3" class="align-center">
                                        GIÁ BÁN NỘI BỘ TẬP ĐOÀN
                                    </th>
                                    <th colSpan="2" class="align-center">
                                        GIÁ BÁN LẺ <br />
                                        (Lít tt)
                                    </th>
                                    <th colSpan="2" class="align-center">
                                        LÃI GỘP THEO <br />
                                        GIÁ TĐ GIAO (Lít tt)
                                    </th>
                                    <th colSpan="2" class="align-center">LÃI GỘP ĐIỀU TIẾT</th>
                                    <th colSpan="2" class="align-center">
                                        LÃI GỘP LINH HOẠT <br />
                                        (Đ/Lít tt)
                                    </th>
                                    <th rowSpan="2" class="align-center">
                                        GIẢM GIÁ <br />
                                        FOB CÓ VAT <br />
                                        & BVMT
                                    </th>
                                    <th rowSpan="2" class="align-center">
                                        LỢI NHUẬN <br />
                                        CÓ THUẾ L15
                                    </th>
                                    <th rowSpan="2" class="align-center">
                                        LỢI NHUẬN <br />
                                        CÓ THUẾ Ltt
                                    </th>
                                </tr>
                                <tr>
                                    <th class="align-center">
                                        L15 CHƯA VAT <br />
                                        & BVMT
                                    </th>
                                    <th class="align-center">
                                        LTT CHƯA VAT <br />
                                        & BVMT
                                    </th>
                                    <th class="align-center">
                                        LTT CÓ VAT <br />
                                        & BVMT
                                    </th>
                                    <th class="align-center">GIÁ NIÊM YẾT</th>
                                    <th class="align-center">
                                        CHƯA VAT <br />
                                        & BVMT
                                    </th>
                                    <th class="align-center">
                                        CÓ VAT <br />
                                        & BVMT
                                    </th>
                                    <th class="align-center">
                                        CHƯA VAT <br />
                                        & BVMT
                                    </th>
                                    <th class="align-center">
                                        L15 CHƯA VAT <br />
                                        & BVMT
                                    </th>
                                    <th class="align-center">
                                        LTT CÓ VAT <br />
                                        & BVMT
                                    </th>
                                    <th class="align-center">
                                        CÓ VAT <br />
                                        & BVMT
                                    </th>
                                    <th class="align-center">
                                        CHƯA VAT <br />
                                        & BVMT
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let data of output.dlg.dlg6;">
                                    <td nzAlign="center" *ngIf="data.isBold" style="font-weight: bold;">{{data.stt}}
                                    </td>
                                    <td nzAlign="left" *ngIf="data.isBold" style="font-weight: bold;" colspan="17">
                                        {{data.goodName}}</td>

                                    <td nzAlign="center" *ngIf="!data.isBold">{{data.stt}}</td>
                                    <td nzAlign="left" *ngIf="!data.isBold">{{data.goodName}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col1}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col2 | number }}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col3 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col4 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col5 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col6 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col7 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col8 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col9 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col10 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col11 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col12 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col13 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col14 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col15 | number}}</td>
                                    <td nzAlign="right" *ngIf="!data.isBold">{{ data.col16 | number}}</td>
                                </tr>
                            </tbody>
                        </nz-table>


                        <nz-divider nzText="BIỂU TÍNH GIÁ XUẤT NỘI DỤNG" nzOrientation="left"></nz-divider>
                        <nz-table [nzShowPagination]="false" nzSize="small" [nzFrontPagination]="false" nzBordered
                            [nzData]="output.dlg.dlg7">
                            <thead>
                                <tr>
                                    <th rowSpan="2" class="align-center">STT</th>
                                    <th rowSpan="2" class="align-center">LOẠI HÀNG</th>
                                    <th rowSpan="2" class="align-center">
                                        H.SỐ VCF <br />
                                        BQ MÙA <br />
                                        MIỀN
                                    </th>
                                    <th rowSpan="2" class="align-center">
                                        THUẾ <br />
                                        BVMT
                                    </th>
                                    <th colSpan="2" class="align-center">GIÁ BÁN NỘI BỘ TĐ</th>
                                    <th rowSpan="2" class="align-center">
                                        GIÁ XUẤT <br> NỘI DỤNG <br />
                                        (Bao gồm <br> VAT&BVMT)
                                    </th>
                                </tr>
                                <tr>
                                    <th class="align-center">
                                        L15 CHƯA THUẾ <br />
                                        VAT & BVMT
                                    </th>
                                    <th class="align-center">
                                        LTT CHƯA THUẾ <br />
                                        VAT & BVMT
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let data of output.dlg.dlg7;">
                                    <td nzAlign="center">{{data.stt}}</td>
                                    <td nzAlign="left">{{data.goodName}}</td>
                                    <td nzAlign="right">{{ data.col1}}</td>
                                    <td nzAlign="right">{{ data.col2 | number }}</td>
                                    <td nzAlign="right">{{ data.col3 | number}}</td>
                                    <td nzAlign="right">{{ data.col4 | number}}</td>
                                    <td nzAlign="right">{{ data.col5 | number}}</td>
                                </tr>
                            </tbody>
                        </nz-table>

                        <nz-divider nzText="BIỂU TÍNH GIÁ BÁN CHO CÔNG TY CP VẬN TẢI VÀ DỊCH VỤ PETROLIMEX NGHỆ TĨNH"
                            nzOrientation="left"></nz-divider>
                        <nz-table [nzShowPagination]="false" nzSize="small" [nzFrontPagination]="false" nzBordered
                            [nzData]="output.dlg.dlg8">
                            <thead>
                                <tr>
                                    <th rowSpan="2" class="align-center">STT</th>
                                    <th rowSpan="2" class="align-center">LOẠI HÀNG</th>
                                    <th rowSpan="2" class="align-center">
                                        H.SỐ VCF <br />
                                        BQ MÙA <br />
                                        MIỀN
                                    </th>
                                    <th colSpan="2" class="align-center">THUẾ BVMT</th>
                                    <th rowSpan="2" class="align-center">
                                        GIÁ BÁN NỘI BỘ <br />
                                        TĐ L15 CHƯA THUẾ <br />
                                        VAT & BVMT
                                    </th>
                                    <th rowSpan="2" class="align-center">
                                        CHI PHÍ QUA KHO <br />
                                        THEO QUY ĐỊNH <br />
                                        CỦA TĐ
                                    </th>
                                    <th colSpan="2" class="align-center">GIÁ BÁN CHO PTC</th>
                                    <th rowSpan="2" class="align-center">GHI CHÚ</th>
                                </tr>
                                <tr>
                                    <th class="align-center">THEO LTT</th>
                                    <th class="align-center">THEO L15</th>
                                    <th class="align-center">
                                        L15 CHƯA THUẾ <br />
                                        VAT, CÓ BVMT
                                    </th>
                                    <th class="align-center">
                                        L15 CÓ THUẾ <br />
                                        VAT & BVMT
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let data of output.dlg.dlg8;">
                                    <td nzAlign="center">{{data.stt}}</td>
                                    <td nzAlign="left">{{data.goodName}}</td>
                                    <td nzAlign="right">{{ data.col1}}</td>
                                    <td nzAlign="right">{{ data.col2 | number }}</td>
                                    <td nzAlign="right">{{ data.col3 | number}}</td>
                                    <td nzAlign="right">{{ data.col4 | number}}</td>
                                    <td nzAlign="right">{{ data.col5 | number}}</td>
                                    <td nzAlign="right">{{ data.col6 | number}}</td>
                                    <td nzAlign="right">{{ data.col7 | number}}</td>
                                    <td nzAlign="left">{{ data.note}}</td>
                                </tr>
                            </tbody>
                        </nz-table>


                    </div>
                </div>
            </nz-tab>
            <nz-tab nzTitle="PT" (click)="onClickTab('PT')">
                <div class="overflow-tab">
                    <nz-table [nzShowPagination]="false" nzSize="small" [nzFrontPagination]="false" nzBordered
                        [nzData]="output.pt">
                        <thead>
                            <tr>
                                <th rowspan="3">TT</th>
                                <th rowspan="3">THỊ TRƯỜNG</th>
                                <th rowspan="3">CỰ LY <br> BQ (Km)</th>
                                <th colspan="4">Lãi gộp chưa VAT</th>
                                <th colspan="3">Chi phí phát sinh chưa có VAT</th>
                                <th colspan="2">CK điều tiết <br> (-/+)</th>
                                <th colspan="8">Đề xuất mức giảm giá tại kho khách hàng</th>
                                <th colspan="4">Lợi nhuận chưa VAT</th>
                                <th colspan="2">Ron 95 III</th>
                                <th colspan="2">E5 - Ron 92 II</th>
                                <th colspan="2">DO 0.001S</th>
                                <th colspan="2">DO 0.05S</th>
                            </tr>
                            <tr>
                                <th rowspan="2">Ron 95 III</th>
                                <th rowspan="2">E5 - Ron 92 II</th>
                                <th rowspan="2">DO 0.001S</th>
                                <th rowspan="2">DO 0.05S</th>
                                <th rowspan="2">Tổng <br> chi phí</th>
                                <th rowspan="2">CP chung <br> chưa<br> cước vc</th>
                                <th rowspan="2">Cước VC <br> bình quân</th>
                                <th>Xăng</th>
                                <th>Dầu</th>
                                <th colspan="2">Ron 95 III</th>
                                <th colspan="2">E5 - Ron 92 II</th>
                                <th colspan="2">DO 0.001S</th>
                                <th colspan="2">DO 0.05S</th>

                                <th rowspan="2">Ron 95 III</th>
                                <th rowspan="2">E5 - Ron 92 II</th>
                                <th rowspan="2">DO 0.001S</th>
                                <th rowspan="2">DO 0.05S</th>

                                <th rowspan="2">CHƯA VAT, BVMT</th>
                                <th rowspan="2">CÓ VAT, BVMT</th>
                                <th rowspan="2">CHƯA VAT, BVMT</th>
                                <th rowspan="2">CÓ VAT, BVMT</th>
                                <th rowspan="2">CHƯA VAT, BVMT</th>
                                <th rowspan="2">CÓ VAT, BVMT</th>
                                <th rowspan="2">CHƯA VAT, BVMT</th>
                                <th rowspan="2">CÓ VAT, BVMT</th>

                            </tr>
                            <tr>
                                <th>Có VAT</th>
                                <th>Có VAT</th>

                                <th>Có VAT</th>
                                <th>Chưa có VAT</th>
                                <th>Có VAT</th>
                                <th>Chưa có VAT</th>
                                <th>Có VAT</th>
                                <th>Chưa có VAT</th>
                                <th>Có VAT</th>
                                <th>Chưa có VAT</th>
                            </tr>

                        </thead>
                        <tbody>
                            <tr *ngFor="let data of output.pt;">
                                <td *ngIf="data.isBold"></td>
                                <td *ngIf="data.isBold" nzAlign="left" colspan="31" style="font-weight: bold;">
                                    {{data.marketName}}</td>

                                <td *ngIf="!data.isBold" nzAlign="center">{{ data.stt}}</td>
                                <td *ngIf="!data.isBold" nzAlign="left">{{ data.marketName }}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col1 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col2 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col3 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col4 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col5 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col6 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col7 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col8 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col9 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col10 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col11 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col12 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col13 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col14 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col15 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col16 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col17 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col18 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col19 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col20 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col21 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col22 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col23 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col24 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col25 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col26 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col27 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col28 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col29 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col30 | number}}</td>
                            </tr>
                        </tbody>
                    </nz-table>
                </div>
            </nz-tab>
            <nz-tab nzTitle="ĐB" (click)="onClickTab('ĐB')">
                <div class="overflow-tab">
                    <nz-table [nzShowPagination]="false" nzSize="small" [nzFrontPagination]="false" nzBordered
                        [nzData]="output.pt">
                        <thead>
                            <tr>
                                <th rowspan="3">TT</th>
                                <th rowspan="3">KHÁCH HÀNG</th>
                                <th rowspan="3">THỊ TRƯỜNG</th>
                                <th rowspan="3">CỰ LY <br> BQ (Km)</th>
                                <th colspan="4">Lãi gộp chưa VAT</th>
                                <th colspan="4">Chi phí phát sinh chưa có VAT</th>
                                <th rowspan="3">Hỗ trợ <br> cước v/c</th>
                                <th rowspan="3">Hỗ trợ <br> theo VB1370/PLX <br> ngày 12/6/2024</th>
                                <th colspan="2">CK điều tiết <br> (-/+)</th>
                                <th colspan="8">Đề xuất mức giảm giá tại kho khách hàng</th>
                                <th rowspan="3">CK Vòng 2 <br> đạt được <br> chưa VAT</th>
                                <th colspan="4">Lợi nhuận chưa VAT</th>
                                <th colspan="2">Ron 95 III</th>
                                <th colspan="2">E5 - Ron 92 II</th>
                                <th colspan="2">DO 0.001S</th>
                                <th colspan="2">DO 0.05S</th>
                            </tr>
                            <tr>
                                <th rowspan="2">Ron 95 III</th>
                                <th rowspan="2">E5 - Ron 92 II</th>
                                <th rowspan="2">DO 0.001S</th>
                                <th rowspan="2">DO 0.05S</th>
                                <th rowspan="2">Tổng <br> chi phí</th>
                                <th rowspan="2">CP chung <br> chưa<br> cước vc</th>
                                <th rowspan="2">Cước VC <br> bình quân</th>
                                <th rowspan="2">Lãi vay <br> NH (đ/l)</th>
                                <th>Xăng</th>
                                <th>Dầu</th>
                                <th colspan="2">Ron 95 III</th>
                                <th colspan="2">E5 - Ron 92 II</th>
                                <th colspan="2">DO 0.001S</th>
                                <th colspan="2">DO 0.05S</th>

                                <th rowspan="2">Ron 95 III</th>
                                <th rowspan="2">E5 - Ron 92 II</th>
                                <th rowspan="2">DO 0.001S</th>
                                <th rowspan="2">DO 0.05S</th>

                                <th rowspan="2">CHƯA VAT, BVMT</th>
                                <th rowspan="2">CÓ VAT, BVMT</th>
                                <th rowspan="2">CHƯA VAT, BVMT</th>
                                <th rowspan="2">CÓ VAT, BVMT</th>
                                <th rowspan="2">CHƯA VAT, BVMT</th>
                                <th rowspan="2">CÓ VAT, BVMT</th>
                                <th rowspan="2">CHƯA VAT, BVMT</th>
                                <th rowspan="2">CÓ VAT, BVMT</th>

                            </tr>
                            <tr>
                                <th>Có VAT</th>
                                <th>Có VAT</th>

                                <th>Có VAT</th>
                                <th>Chưa có VAT</th>
                                <th>Có VAT</th>
                                <th>Chưa có VAT</th>
                                <th>Có VAT</th>
                                <th>Chưa có VAT</th>
                                <th>Có VAT</th>
                                <th>Chưa có VAT</th>
                            </tr>

                        </thead>
                        <tbody>
                            <tr *ngFor="let data of output.pt;">
                                <td *ngIf="data.isBold"></td>
                                <td *ngIf="data.isBold" nzAlign="left" colspan="31" style="font-weight: bold;">
                                    {{data.marketName}}</td>

                                <td *ngIf="!data.isBold" nzAlign="center">{{ data.stt}}</td>
                                <td *ngIf="!data.isBold" nzAlign="left">{{ data.marketName }}</td>
                                <td *ngIf="!data.isBold" nzAlign="left">{{ data.marketName }}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col1 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col2 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col3 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col4 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col5 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col6 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col7 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col8 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col9 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col10 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col11 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col12 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col13 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col14 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col15 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col16 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col17 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col18 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col19 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col20 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col21 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col22 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col23 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col24 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col25 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col26 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col27 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col28 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col29 | number}}</td>
                                <td *ngIf="!data.isBold" nzAlign="right">{{ data.col30 | number}}</td>
                            </tr>
                        </tbody>
                    </nz-table>
                </div>
            </nz-tab>
            <nz-tab nzTitle="FOB" (click)="onClickTab('FOB')">

            </nz-tab>
            <nz-tab nzTitle="PT09" (click)="onClickTab('PT09')">

            </nz-tab>
            <nz-tab nzTitle="BB DO" (click)="onClickTab('BB DO')">

            </nz-tab>
            <nz-tab nzTitle="PL1" (click)="onClickTab('PL1')">

            </nz-tab>
            <nz-tab nzTitle="PL2" (click)="onClickTab('PL2')">

            </nz-tab>
            <nz-tab nzTitle="PL3" (click)="onClickTab('PL3')">

            </nz-tab>
            <nz-tab nzTitle="PL4" (click)="onClickTab('PL4')">

            </nz-tab>
            <nz-tab nzTitle="VK11 PT" (click)="onClickTab('VK11 PT')">

            </nz-tab>
            <nz-tab nzTitle="VK11 ĐB" (click)="onClickTab('VK11 ĐB')">

            </nz-tab>
            <nz-tab nzTitle="VK11 FOB" (click)="onClickTab('VK11 FOB')">

            </nz-tab>
            <nz-tab nzTitle="VK11 TNPP" (click)="onClickTab('VK11 TNPP')">

            </nz-tab>
            <nz-tab nzTitle="PTS" (click)="onClickTab('PTS')">

            </nz-tab>
            <nz-tab nzTitle="VK11 BB" (click)="onClickTab('VK11 BB')">

            </nz-tab>
            <nz-tab nzTitle="Tổng hợp" (click)="onClickTab('Tổng hợp')">

            </nz-tab>
        </nz-tabset>
    </div>
</div>


<!-- Dữ liệu đẩu vào  -->
<nz-drawer nzWidth="80%" nzSize="default" [nzVisible]="visibleInput" nzPlacement="right" [nzTitle]="'Tạo mới đợt tính'"
    [nzExtra]="extra" (nzOnClose)="close()">
    <ng-container *nzDrawerContent>
        <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
            <div nz-col class="gutter-row" [nzSpan]="18">
                <div class="inner-box">
                    <label>Tên đợt tính</label>
                    <input nz-input placeholder="Nhập tên đợt tính" [(ngModel)]="input.header.name" type="text" />

                </div>
            </div>
            <div nz-col class="gutter-row" [nzSpan]="6">
                <div class="inner-box">
                    <label>Ngày hiệu lực</label>
                    <nz-date-picker nzShowTime nzFormat="yyyy-MM-dd HH:mm:ss" ngModel (ngModelChange)="onChange($event)"
                        [nzPlaceHolder]="'Chọn ngày'" style="width: 100%;" (nzOnOk)="onOk($event)"></nz-date-picker>
                </div>
            </div>
        </div>

        <nz-tabset>
            <nz-tab nzTitle="THÔNG TIN GIÁ">
                <nz-table nzBordered nzSize="small" [nzData]="input.inputPrice" [nzFrontPagination]="'false'"
                    [nzShowPagination]="'false'">
                    <thead>
                        <tr>
                            <th nzAlign="center" rowspan="2">LOẠI HÀNG</th>
                            <th nzAlign="center" rowspan="2">THUẾ BVMT</th>
                            <th nzAlign="center" rowspan="2">Hệ số <br> VCF BQ <br> mùa miền</th>
                            <th nzAlign="center" rowspan="2">CHÊNH LỆCH</th>
                            <th nzAlign="center" colspan="2">GIÁ TẬP ĐOÀN CÔNG BỐ</th>

                            <th nzAlign="center" rowspan="2">L15 CHƯA VAT<br> & BVMT<br>(PT bán lẻ - V2)</th>
                            <th nzAlign="center" rowspan="2">L15 CHƯA VAT <br> & BVMT<br>(ngoài bán lẻ)</th>
                            <th nzAlign="center" rowspan="2">LÃI GỘP <br>ĐIỀU TIẾT</th>
                            <th nzAlign="center" rowspan="2">GIẢM GIÁ FOB <br> CÓ VAT &BVMT <br> (Vùng trung tâm)</th>
                            <th nzAlign="center" rowspan="2">GIẢM GIÁ FOB <br> CÓ VAT &BVMT <br>(Vùng còn lại)</th>
                        </tr>
                        <tr>
                            <th nzAlign="center">GIÁ BÁN LẺ V1</th>
                            <th nzAlign="center">GIÁ BÁN LẺ V2</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of input.inputPrice">
                            <td style="font-weight: bold;">{{data.goodName }}</td>
                            <td><input nz-input [(ngModel)]="data.thueBvmt" type="number" /></td>
                            <td><input nz-input [(ngModel)]="data.vcf" type="number" /></td>
                            <td><input nz-input [(ngModel)]="data.chenhLech" type="number" /></td>
                            <td><input nz-input [(ngModel)]="data.gblV1" type="number" /></td>
                            <td><input nz-input [(ngModel)]="data.gblV2" type="number" /></td>
                            <td><input nz-input [(ngModel)]="data.l15Blv2" type="number" /></td>
                            <td><input nz-input [(ngModel)]="data.l15Nbl" type="number" /></td>
                            <td><input nz-input [(ngModel)]="data.laiGop" type="number" /></td>
                            <td><input nz-input [(ngModel)]="data.fobV1" type="number" /></td>
                            <td><input nz-input [(ngModel)]="data.fobV2" type="number" /></td>
                        </tr>
                    </tbody>
                </nz-table>
            </nz-tab>
            <nz-tab nzTitle="THỊ TRƯỜNG">
                <div class="overflow-input">
                    <nz-table nzBordered nzSize="small" [nzData]="input.market" [nzFrontPagination]="'false'"
                        [nzShowPagination]="'false'">
                        <thead>
                            <tr>
                                <th nzAlign="center" rowspan="2">THỊ TRƯỜNG</th>
                                <th nzAlign="center" rowspan="2">CỰ LY BQ (Km)</th>
                                <th nzAlign="center" rowspan="2">CƯỚC VC BQ</th>
                                <th nzAlign="center" rowspan="2">CP CHUNG <br> CHƯA CƯỚC VC</th>
                                <th nzAlign="center" colspan="2">CK ĐIỀU TIẾT</th>
                            </tr>
                            <tr>
                                <th nzAlign="center">XĂNG</th>
                                <th nzAlign="center">DẦU</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let data of input.market">
                                <td style="font-weight: bold;">{{data.name }}</td>
                                <td><input nz-input [(ngModel)]="data.gap" type="number" /></td>
                                <td><input nz-input [(ngModel)]="data.cuocVCBQ" type="number" /></td>
                                <td><input nz-input [(ngModel)]="data.cpChungChuaCuocVC" type="number" /></td>
                                <td><input nz-input [(ngModel)]="data.ckDieuTietXang" type="number" /></td>
                                <td><input nz-input [(ngModel)]="data.ckDieuTietDau" type="number" /></td>
                            </tr>
                        </tbody>
                    </nz-table>
                </div>

            </nz-tab>
        </nz-tabset>


    </ng-container>
</nz-drawer>
<ng-template #extra>
    <nz-space>
        <ng-container>
            <button [nzLoading]="loading" *nzSpaceItem nz-button nzType="primary" class="!flex !items-center"
                (click)="onUpdateInput()">
                <span nz-icon nzType="save" nzTheme="outline"></span> Cập nhật
            </button>
        </ng-container>
    </nz-space>
</ng-template>